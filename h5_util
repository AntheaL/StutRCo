import h5py

def concatenate_dicts(dicts):
    res = dict()
    for for data in dicts:
        for key,value in data.items():
            if isinstance(value, dict):
                res[key] = res.get(key, dict())
                for k,v in value.items():
                    res[key][k] = res[key].get(k, []) + v
            else:
                res[key] = res.get(key, []) + value
    return res
